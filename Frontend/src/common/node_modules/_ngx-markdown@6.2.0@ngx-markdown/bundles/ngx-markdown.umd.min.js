!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("marked"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-markdown",["exports","@angular/core","@angular/common/http","marked","rxjs/operators"],t):t(e["ngx-markdown"]={},e.ng.core,e.ng.common.http,null,e.rxjs.operators)}(this,function(e,r,t,o,n){"use strict";var i=function(){function e(){}return e.prototype.transform=function(e,t){return"string"!=typeof e?(console.error("LanguagePipe has been invoked with an invalid value type ["+e+"]"),e):"string"!=typeof t?(console.error("LanguagePipe has been invoked with an invalid parameter ["+t+"]"),e):"```"+t+"\n"+e+"\n```"},e.decorators=[{type:r.Pipe,args:[{name:"language"}]}],e}(),a=function b(){},p="[ngx-markdown] When using the [src] attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",s=function(){function e(e,t){this.http=e,this.options=t,this.renderer||(this.renderer=new o.Renderer)}return Object.defineProperty(e.prototype,"renderer",{get:function(){return this.options.renderer},set:function(e){this.options.renderer=e},enumerable:!0,configurable:!0}),e.prototype.compile=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=this.options);var n=this.precompile(e);return o.parse(t?this.decodeHtml(n):n,r)},e.prototype.getSource=function(t){var r=this;if(!this.http)throw new Error(p);return this.http.get(t,{responseType:"text"}).pipe(n.map(function(e){return r.handleExtension(t,e)}))},e.prototype.highlight=function(){"undefined"!=typeof Prism&&Prism.highlightAll(!1)},e.prototype.decodeHtml=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},e.prototype.handleExtension=function(e,t){var r=e?e.split(".").splice(-1).join():null;return"md"!==r?"```"+r+"\n"+t+"\n```":t},e.prototype.precompile=function(e){return e?e.split("\n").map(function(e){return 0<e.length&&isNaN(t)&&(t=e.search(/\S|$/)),t?e.substring(t):e}).join("\n"):"";var t},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:t.HttpClient,decorators:[{type:r.Optional}]},{type:a}]},e}(),u=function(){function e(e,t){this.element=e,this.markdownService=t,this.error=new r.EventEmitter,this.load=new r.EventEmitter}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.render(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(e){var t=this;this._src=e,this.markdownService.getSource(e).subscribe(function(e){t.render(e),t.load.emit(e)},function(e){return t.error.emit(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTranscluded",{get:function(){return!this.data&&!this.src},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.isTranscluded&&this.render(this.element.nativeElement.innerHTML,!0)},e.prototype.render=function(e,t){void 0===t&&(t=!1),this.element.nativeElement.innerHTML=this.markdownService.compile(e,t),this.markdownService.highlight()},e.decorators=[{type:r.Component,args:[{selector:"markdown, [markdown]",template:"<ng-content></ng-content>",styles:[":host /deep/ table{border-spacing:0;border-collapse:collapse;margin-bottom:16px}:host /deep/ table td,:host /deep/ table th{padding:6px 13px;border:1px solid #ddd}:host /deep/ table td[align=left],:host /deep/ table th[align=left]{text-align:left}:host /deep/ table td[align=center],:host /deep/ table th[align=center]{text-align:center}:host /deep/ table td[align=right],:host /deep/ table th[align=right]{text-align:right}:host /deep/ table tr:nth-child(2n){background-color:rgba(0,0,0,.03)}:host /deep/ blockquote{padding:0 1em;color:rgba(0,0,0,.535);border-left:.25em solid rgba(0,0,0,.11)}"]}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:s}]},e.propDecorators={data:[{type:r.Input}],src:[{type:r.Input}],error:[{type:r.Output}],load:[{type:r.Output}]},e}(),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)a.push(n.value)}catch(p){o={error:p}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}var h=function(){function e(e,t){this.markdownService=e,this.zone=t}return e.prototype.transform=function(e){var t=this;if("string"!=typeof e)return console.error("MarkdownPipe has been invoked with an invalid value type ["+e+"]"),e;var r=this.markdownService.compile(e);return this.zone.onStable.pipe(n.first()).subscribe(function(){return t.markdownService.highlight()}),r},e.decorators=[{type:r.Pipe,args:[{name:"markdown"}]}],e.ctorParameters=function(){return[{type:s},{type:r.NgZone}]},e}(),f={provide:a,useValue:{gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}},m=[i,u,h],g=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:l([s],e?[e.loader||[],e.markedOptions||f]:[f])}},t.forChild=function(){return{ngModule:t}},t.decorators=[{type:r.NgModule,args:[{exports:l(m),declarations:l(m)}]}],t}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function n(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(o.Renderer);e.LanguagePipe=i,e.MarkdownComponent=u,e.initialMarkedOptions=f,e.MarkdownModule=g,e.MarkdownPipe=h,e.errorSrcWithoutHttpClient=p,e.MarkdownService=s,e.MarkedOptions=a,e.MarkedRenderer=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-markdown.umd.min.js.map